#!/usr/bin/env fish

# Set the directory paths for the project and its includes
set project_dir "/home/dimitri/code/IOHexperimenter"
set build_dir "$project_dir/build/tests"
set include_dir "$project_dir/include"
set external_dir "$project_dir/external"
set tests_dir "$project_dir/tests/cpp"

# Navigate to the build/tests directory
cd $build_dir

true

and rm -f ./debug_log.txt

# Compile using g++
and c++ -Wall -Wextra -pedantic -std=c++17 -lstdc++fs \
    -I$include_dir \
    -I$tests_dir \
    -I$external_dir/fmt/include \
    -I$external_dir/clutchlog \
    -I$external_dir/json/include \
    -isystem $external_dir/googletest/googletest/include \
    -isystem $external_dir/googletest/googletest \
    $tests_dir/problem/test_cec_problem.cpp \
    $tests_dir/entrypoint.cpp \
    -o test_cec_problem \
    $build_dir/../lib/libgtest.a -lpthread

and ./test_cec_problem
